{% extends "base.html" %}

{% load static %}

{% block title %}Master Class Gratuita: SIG con Inteligencia Artificial{% endblock %}
{% block meta_description %}Descubre como integrar IA en tus an√°lisis espaciales y lograr en minutos lo que antes te tomaba horas. Master class gratuita sobre SIG con Inteligencia Artificial.{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'landing/style.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section - Above the Fold -->
<section class="hero-section">
    <div class="hero-background"></div>
    <div class="hero-background-overlay"></div>
    <div class="hero-content">
            <div class="hero-text-1">
                <h1 class="hero-title">MASTER CLASS GRATUITA<br>SIG CON INTELIGENCIA ARTIFICIAL</h1>
            </div>

            <div class="hero-text-2">
                <p class="hero-subtitle"><span class="benefit-icon">üåü</span> Descubre c√≥mo integrar IA en tus an√°lisis espaciales y lograr en minutos lo que antes te tomaba horas.</p>
            </div>

            <div class="hero-video">
                <video class="video-player" id="webinarVideo" controls poster="{% static 'landings/images/poster.jpg' %}">
                    <source src="{% static 'landings/videos/landing_video.mp4' %}" type="video/mp4">
                    Tu navegador no soporta el elemento de video.
                </video>
            </div>

            <div class="hero-cta-container">
                <div class="consent-button-wrapper">
                    <div class="consent-badge">
                        <span class="consent-text">Usamos datos an√≥nimos para mejorar tu experiencia. <a href="{% url 'landings:privacy_policy' %}" class="consent-link">M√°s info</a></span>
                    </div>
                    <a href="https://chat.whatsapp.com/EwpmS6cVDyU6Pob47GrCkm" class="hero-cta btn whatsapp-btn" target="_blank" onclick="acceptCookiesAndTrack()">
                        <i class="fab fa-whatsapp"></i>√önete al Grupo de WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="scroll-indicator">
        <i class="fas fa-chevron-down"></i> Despl√°zate para m√°s informaci√≥n
    </div>
</section>

<!-- Beneficios Section -->
<section class="benefits-section section-padding">
    <div class="container">
        <h2 class="text-center" style="font-size: 2.5rem; font-weight: 800; margin-bottom: 20px; background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">¬øQu√© Aprender√°s?</h2>
        <div class="benefits-grid">
            <div class="benefit-card fade-in-up">
                <span class="benefit-icon">ü§ñ</span>
                <h3 class="benefit-title">Integraci√≥n de IA en SIG</h3>
                <p class="benefit-description">Aprende a combinar las poderosas capacidades de an√°lisis espacial con algoritmos de inteligencia artificial para obtener insights avanzados.</p>
            </div>
            <div class="benefit-card fade-in-up">
                <span class="benefit-icon">‚ö°</span>
                <h3 class="benefit-title">Automatizaci√≥n de Procesos</h3>
                <p class="benefit-description">Descubre c√≥mo automatizar tareas complejas de an√°lisis geoespacial que actualmente te toman horas o d√≠as.</p>
            </div>
            <div class="benefit-card fade-in-up">
                <span class="benefit-icon">üìä</span>
                <h3 class="benefit-title">An√°lisis Predictivo</h3>
                <p class="benefit-description">Implementa modelos de machine learning para predicciones espaciales y toma decisiones basadas en datos.</p>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta-section section-padding">
    <div class="container">
        <div class="cta-content">
            <h2>¬°No te quedes fuera!</h2>
            <p>√önete a nuestro grupo exclusivo de WhatsApp y s√© el primero en enterarte cuando lancemos la master class</p>
            <div class="consent-button-wrapper">
                <div class="consent-badge">
                    <span class="consent-text">Usamos datos an√≥nimos para mejorar tu experiencia. <a href="{% url 'landings:privacy_policy' %}" class="consent-link">M√°s info</a></span>
                </div>
                <a href="https://chat.whatsapp.com/EwpmS6cVDyU6Pob47GrCkm" class="hero-cta btn whatsapp-btn" target="_blank" onclick="acceptCookiesAndTrack()">
                    <i class="fab fa-whatsapp"></i>√önete al Grupo de WhatsApp
                </a>
            </div>
        </div>
    </div>
</section>

{% endblock %}

<script>
        // Funci√≥n para aceptar cookies y hacer tracking
        function acceptCookiesAndTrack() {
            // Registrar aceptaci√≥n de cookies
            localStorage.setItem('cookieConsent', 'accepted');
            localStorage.setItem('consentDate', new Date().toISOString());

            // Hacer tracking del evento
            trackWhatsAppGroup();

            // Mostrar mensaje de confirmaci√≥n (opcional)
            console.log('Cookies aceptadas y evento trackeado');
        }

        // Funci√≥n de tracking original
        function trackWhatsAppGroup() {
            // Enviar evento a Google Analytics si est√° disponible
            if (typeof gtag !== 'undefined') {
                gtag('event', 'whatsapp_group_join', {
                    'event_category': 'engagement',
                    'event_label': 'webinar_landing'
                });
            }

            // Enviar evento a Facebook Pixel si est√° disponible
            if (typeof fbq !== 'undefined') {
                fbq('track', 'Lead', {
                    content_name: 'WhatsApp Group Join',
                    content_category: 'Webinar'
                });
            }

            console.log('WhatsApp group join tracked');
        }

function trackVideoPlay() {
    if (typeof fbq !== 'undefined') {
        fbq('track', 'ViewContent', {
            content_name: 'Webinar Video',
            content_type: 'video',
            content_category: 'webinar'
        });
    }
    console.log('Video play tracked');
}

function trackFormInteraction() {
    if (typeof fbq !== 'undefined') {
        fbq('track', 'Lead', {
            content_name: 'Registration Form Interaction',
            content_category: 'form_engagement'
        });
    }
    console.log('Form interaction tracked');
}

function trackFormSubmission() {
    if (typeof fbq !== 'undefined') {
        fbq('track', 'InitiateCheckout', {
            content_name: 'Webinar Registration',
            content_category: 'form_submission'
        });
    }
    console.log('Form submission tracked');
}

// Form validation enhancement
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    if (form) {
        form.addEventListener('submit', function(e) {
            const name = form.querySelector('input[name="name"]');
            const email = form.querySelector('input[name="email"]');

            if (name && name.value.trim() === '') {
                alert('Por favor ingresa tu nombre');
                e.preventDefault();
                return false;
            }

            if (email && email.value.trim() === '') {
                alert('Por favor ingresa tu email');
                e.preventDefault();
                return false;
            }

            // Basic email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email && !emailRegex.test(email.value)) {
                alert('Por favor ingresa un email v√°lido');
                e.preventDefault();
                return false;
            }
        });
    }

    // Add fade-in animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in-up');
            }
        });
    }, observerOptions);

    // Observe all benefit cards
    document.querySelectorAll('.benefit-card').forEach(card => {
        observer.observe(card);
    });
});
</script>```</xai:function_call name="oldString">    // Observe all benefit cards
    document.querySelectorAll('.benefit-card').forEach(card => {
        observer.observe(card);
    });
});
</script>
